<main>
  <h2>Matched Betting Calculators</h2>

  <!-- Qualifying Bet Calculator -->
  <section>
    <h3>Qualifying Bet Calculator</h3>
    <form id="qualifyingForm">
      <label>Back Stake (£): <input type="number" id="qualBackStake" step="0.01" required></label>
      <label>Back Odds: <input type="number" id="qualBackOdds" step="0.01" required></label>
      <label>Lay Odds: <input type="number" id="qualLayOdds" step="0.01" required></label>
      <label>Commission (%): <input type="number" id="qualCommission" value="2" step="0.01" required></label>
      <button type="submit">Calculate</button>
    </form>
    <div id="qualResult" class="result"></div>
  </section>

  <!-- Free Bet Calculator -->
  <section>
    <h3>Free Bet Calculator (SNR)</h3>
    <form id="freebetForm">
      <label>Free Bet Amount (£): <input type="number" id="freebetAmount" step="0.01" required></label>
      <label>Back Odds: <input type="number" id="freebetBackOdds" step="0.01" required></label>
      <label>Lay Odds: <input type="number" id="freebetLayOdds" step="0.01" required></label>
      <label>Commission (%): <input type="number" id="freebetCommission" value="2" step="0.01" required></label>
      <button type="submit">Calculate</button>
    </form>
    <div id="freebetResult" class="result"></div>
  </section>
</main>

<script>
  // Qualifying Bet Calculator
  document.getElementById('qualifyingForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const backStake = parseFloat(document.getElementById('qualBackStake').value);
    const backOdds = parseFloat(document.getElementById('qualBackOdds').value);
    const layOdds = parseFloat(document.getElementById('qualLayOdds').value);
    const commission = parseFloat(document.getElementById('qualCommission').value) / 100;

    const layStake = (backStake * backOdds) / (layOdds - commission);
    const liability = layStake * (layOdds - 1);
    const backProfit = backStake * (backOdds - 1);
    const layLoss = layStake * commission;
    const expectedLoss = Math.abs(backProfit - liability - layLoss);

    document.getElementById('qualResult').innerHTML =
      `Lay Stake: £${layStake.toFixed(2)}<br>` +
      `Liability: £${liability.toFixed(2)}<br>` +
      `Expected Loss: £${expectedLoss.toFixed(2)}`;
  });

  // Free Bet Calculator
  document.getElementById('freebetForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const freeBet = parseFloat(document.getElementById('freebetAmount').value);
    const backOdds = parseFloat(document.getElementById('freebetBackOdds').value);
    const layOdds = parseFloat(document.getElementById('freebetLayOdds').value);
    const commission = parseFloat(document.getElementById('freebetCommission').value) / 100;

    const layStake = (freeBet * (backOdds - 1)) / (layOdds - commission);
    const liability = layStake * (layOdds - 1);
    const layProfit = layStake * (1 - commission);

    document.getElementById('freebetResult').innerHTML =
      `Lay Stake: £${layStake.toFixed(2)}<br>` +
      `Liability: £${liability.toFixed(2)}<br>` +
      `Expected Profit: £${layProfit.toFixed(2)}`;
  });
</script>
